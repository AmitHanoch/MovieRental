<link rel="stylesheet" href="~/css/Home.css" />


@{
    ViewData["Title"] = "Home Page";
}

<section class="fade-in-animation">
    <section id="title-section" class="row">
        <video autoplay id="backgroud-image-title">
            <source src="~/images/popcornVideo.mp4" type="video/mp4">
        </video>
        <h1 id="title">Movie Rental</h1>
        <h3 id="slogen">Binge, Learn, Relax, Enjoy</h3>
    </section>


    <section id="lists-container">
        <div class="card list-card">
            <div class="card-title">
                <h3>New Releases</h3>
            </div>
            <div class="card-content">
                <div class="list">
                    <ol>
                        @foreach (var moiveItem in ViewBag.NewReleases)
                        {
                            <li><a href="/Movies/Details/@moiveItem.MovieId">@moiveItem.Name</a></li>
                        }
                    </ol>
                </div>
            </div>
        </div>

        <div class="card list-card">
            <div class="card-title">
                <h3>Most Popular</h3>
            </div>
            <div class="card-content">
                <div class="list">
                    <ol id="mostPopularList">
                    </ol>
                </div>
            </div>
        </div>
    </section>
</section>

<script>
    (function () {
        $.ajax({
            url: "/Home/GetMostPopularForList",
            success: function (result) {
                var listItems = "";

                $.each(result, function (index, value) {
                    listItems = listItems + " " + "<li><a href='/Movies/Details/" + value.MovieId + "'>" + value.Name + "</a></li>"
                });

                $("#mostPopularList").html(listItems);
            }
        });
    })();

    (function () {
        var videoElement = $("#backgroud-image-title").get(0);

        videoElement.play();
    })();
</script>